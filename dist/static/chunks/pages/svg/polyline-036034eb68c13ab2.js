(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{3206:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/svg/polyline",function(){return n(4676)}])},4676:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a},diagonal:function(){return d}});var i=n(5893),c=n(9633),l=n(7294),o=n(8507),s=n.n(o);function r(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}let d=(e,t)=>"M ".concat(e.x," ").concat(e.y," L ").concat(t.x," ").concat(t.y);function a(){console.log("home render");let e=(0,l.useRef)(),[t,n]=(0,l.useState)([]);(0,l.useState)("");let[o,a]=(0,l.useState)("draw");return(0,l.useEffect)(()=>{let t=(0,c.Ys)("#canvas"),n=document.getElementById("circle1"),i=document.getElementById("circle3"),{x:l,y:s}=r(n.getBoundingClientRect()),{x:a,y:u}=r(i.getBoundingClientRect());t.append("path").attr("d",d({x:l,y:s},{x:a,y:u})).attr("stroke","green").attr("stroke-width",5);let p=document.getElementById("content");function m(n){e.current={x:n.clientX,y:n.clientY},t.append("polyline").attr("class","polyline").attr("points","".concat(n.clientX,",").concat(n.clientY)).attr("fill","none").attr("stroke","draw"===o?"red":"#fff").attr("stroke-width",4),null==p||p.addEventListener("mousemove",x),null==p||p.addEventListener("mouseup",f)}function x(e){console.log("mousemove");let n=t.select("polyline.polyline:last-child").attr("points");t.select("polyline.polyline:last-child").attr("points",n+" ".concat(e.clientX,",").concat(e.clientY))}function f(e){null==p||p.removeEventListener("mousemove",x),null==p||p.removeEventListener("mouseup",f)}return null==p||p.addEventListener("mousedown",m),()=>{console.log("dddd"),null==p||p.removeEventListener("mousedown",m)}},[o]),(0,i.jsxs)("div",{id:"body",className:s().body,children:[(0,i.jsxs)("div",{id:"content",className:s().content,children:[(0,i.jsx)("svg",{id:"canvas",className:s().svg,children:(0,i.jsx)("clipPath",{id:"myClip",children:(0,i.jsx)("circle",{cx:"40",cy:"35",r:"10",fill:"#fff",points:""})})}),(0,i.jsx)("div",{id:"circle1",style:{marginTop:"100px",marginLeft:"100px"}}),(0,i.jsx)("div",{id:"circle2",style:{marginTop:"200px"}}),(0,i.jsx)("div",{id:"circle3",style:{marginTop:"100px",marginLeft:"200px"}}),(0,i.jsx)("div",{id:"circle4",style:{marginTop:"100px",marginLeft:"280px"}}),(0,i.jsx)("div",{id:"circle5",style:{marginTop:"100px",marginLeft:"120px"}})]}),(0,i.jsx)("div",{onClick:()=>a("clear"),children:"擦除"})]})}},8507:function(e){e.exports={body:"svg_body__9ISox",content:"svg_content__cGu77",svg:"svg_svg__adGFe"}}},function(e){e.O(0,[633,774,888,179],function(){return e(e.s=3206)}),_N_E=e.O()}]);
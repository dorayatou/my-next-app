[{"D:\\workspace\\my-next-app\\pages\\404.tsx":"1","D:\\workspace\\my-next-app\\pages\\api\\hello.ts":"2","D:\\workspace\\my-next-app\\pages\\api\\socket.ts":"3","D:\\workspace\\my-next-app\\pages\\graph\\demo.tsx":"4","D:\\workspace\\my-next-app\\pages\\graph\\index.tsx":"5","D:\\workspace\\my-next-app\\pages\\graph\\light.tsx":"6","D:\\workspace\\my-next-app\\pages\\graph\\relation.tsx":"7","D:\\workspace\\my-next-app\\pages\\index.tsx":"8","D:\\workspace\\my-next-app\\pages\\posts\\[id].tsx":"9","D:\\workspace\\my-next-app\\pages\\svg\\bg.tsx":"10","D:\\workspace\\my-next-app\\pages\\svg\\canvas.tsx":"11","D:\\workspace\\my-next-app\\pages\\svg\\clip.tsx":"12","D:\\workspace\\my-next-app\\pages\\svg\\image.tsx":"13","D:\\workspace\\my-next-app\\pages\\svg\\polyline.tsx":"14","D:\\workspace\\my-next-app\\pages\\svg\\transform.tsx":"15","D:\\workspace\\my-next-app\\pages\\_app.tsx":"16","D:\\workspace\\my-next-app\\pages\\_document.tsx":"17","D:\\workspace\\my-next-app\\components\\date.tsx":"18","D:\\workspace\\my-next-app\\components\\layout.tsx":"19","D:\\workspace\\my-next-app\\lib\\cytoscape.esm.js":"20","D:\\workspace\\my-next-app\\lib\\data.ts":"21","D:\\workspace\\my-next-app\\lib\\diff.ts":"22","D:\\workspace\\my-next-app\\lib\\graph\\utils.ts":"23","D:\\workspace\\my-next-app\\lib\\posts.ts":"24","D:\\workspace\\my-next-app\\lib\\style.ts":"25","D:\\workspace\\my-next-app\\lib\\transform.ts":"26","D:\\workspace\\my-next-app\\lib\\utils.ts":"27"},{"size":83,"mtime":1672884441579,"results":"28","hashOfConfig":"29"},{"size":307,"mtime":1672727594297,"results":"30","hashOfConfig":"29"},{"size":2006,"mtime":1682235328045,"results":"31","hashOfConfig":"29"},{"size":3351,"mtime":1682235429001,"results":"32","hashOfConfig":"29"},{"size":4622,"mtime":1682235418303,"results":"33","hashOfConfig":"29"},{"size":8039,"mtime":1680576930999,"results":"34","hashOfConfig":"29"},{"size":310,"mtime":1680057779312,"results":"35","hashOfConfig":"29"},{"size":1284,"mtime":1680075985553,"results":"36","hashOfConfig":"29"},{"size":993,"mtime":1676356163229,"results":"37","hashOfConfig":"29"},{"size":3528,"mtime":1682234301115,"results":"38","hashOfConfig":"29"},{"size":2347,"mtime":1682234311472,"results":"39","hashOfConfig":"29"},{"size":1067,"mtime":1677468794375,"results":"40","hashOfConfig":"29"},{"size":4794,"mtime":1682234468698,"results":"41","hashOfConfig":"29"},{"size":3531,"mtime":1682234358891,"results":"42","hashOfConfig":"29"},{"size":1599,"mtime":1682234555008,"results":"43","hashOfConfig":"29"},{"size":330,"mtime":1680076023281,"results":"44","hashOfConfig":"29"},{"size":231,"mtime":1672727594301,"results":"45","hashOfConfig":"29"},{"size":238,"mtime":1676355763203,"results":"46","hashOfConfig":"29"},{"size":2171,"mtime":1676356176534,"results":"47","hashOfConfig":"29"},{"size":873225,"mtime":1680489106962,"results":"48","hashOfConfig":"29"},{"size":13708,"mtime":1682234908997,"results":"49","hashOfConfig":"29"},{"size":2483,"mtime":1682232759698,"results":"50","hashOfConfig":"29"},{"size":1562,"mtime":1682235389897,"results":"51","hashOfConfig":"29"},{"size":1552,"mtime":1676356084853,"results":"52","hashOfConfig":"29"},{"size":2461,"mtime":1680834126082,"results":"53","hashOfConfig":"29"},{"size":1134,"mtime":1680054115791,"results":"54","hashOfConfig":"29"},{"size":174,"mtime":1682235379611,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"q507dk",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86"},{"filePath":"87","messages":"88","suppressedMessages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","suppressedMessages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\workspace\\my-next-app\\pages\\404.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\api\\hello.ts",[],[],"D:\\workspace\\my-next-app\\pages\\api\\socket.ts",[],[],"D:\\workspace\\my-next-app\\pages\\graph\\demo.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\graph\\index.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\graph\\light.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\graph\\relation.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\index.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\posts\\[id].tsx",[],[],"D:\\workspace\\my-next-app\\pages\\svg\\bg.tsx",["138"],[],"import { select } from \"d3\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport styles from \"styles/svg.module.css\";\r\nfunction getCenterPoint(bbox) {\r\n  return {\r\n    x: bbox.x + bbox.width / 2,\r\n    y: bbox.y + bbox.height / 2,\r\n  };\r\n}\r\nexport type Point = {\r\n  x: number;\r\n  y: number;\r\n};\r\n// 生成两点link的path值\r\nexport const diagonal = (source: Point, target: Point): string =>\r\n  `M ${source.x} ${source.y} L ${target.x} ${target.y}`;\r\nexport default function Home() {\r\n  console.log(\"home render\");\r\n  const startPoint = useRef<any>();\r\n  const [lineData, setLineData] = useState([]);\r\n  useEffect(() => {\r\n    const svg = select(\"#canvas\");\r\n    let circle1 = document.getElementById(\"circle1\");\r\n    let circle3 = document.getElementById(\"circle3\");\r\n    let { x: x1, y: y1 } = getCenterPoint(circle1.getBoundingClientRect());\r\n    let { x: x3, y: y3 } = getCenterPoint(circle3.getBoundingClientRect());\r\n\r\n    svg\r\n      .append(\"path\")\r\n      .attr(\"d\", diagonal({ x: x1, y: y1 }, { x: x3, y: y3 }))\r\n      .attr(\"stroke\", \"green\")\r\n      .attr(\"stroke-width\", 5);\r\n\r\n    const contentDiv = document.getElementById(\"content\");\r\n    function mousedown(e) {\r\n      startPoint.current = { x: e.clientX, y: e.clientY };\r\n\r\n      svg\r\n        .insert(\"path\", \":first-child\")\r\n        .attr(\"stroke\", \"green\")\r\n        .attr(\"stroke-width\", 5)\r\n        .attr(\r\n          \"d\",\r\n          diagonal(\r\n            { x: e.clientX, y: e.clientY },\r\n            { x: e.clientX, y: e.clientY }\r\n          )\r\n        );\r\n\r\n      contentDiv?.addEventListener(\"mousemove\", mousemove);\r\n      contentDiv?.addEventListener(\"mouseup\", mouseup);\r\n    }\r\n    function mousemove(e) {\r\n      svg\r\n        .select(\"path\")\r\n        .attr(\r\n          \"d\",\r\n          diagonal(\r\n            { x: startPoint.current.x, y: startPoint.current.y },\r\n            { x: e.clientX, y: e.clientY }\r\n          )\r\n        );\r\n    }\r\n    function mouseup(e) {\r\n      // add data\r\n      setLineData([\r\n        ...lineData,\r\n        {\r\n          source: { x: startPoint.current.x, y: startPoint.current.y },\r\n          target: { x: e.clientX, y: e.clientY },\r\n        },\r\n      ]);\r\n\r\n      contentDiv?.removeEventListener(\"mousemove\", mousemove);\r\n      contentDiv?.removeEventListener(\"mouseup\", mouseup);\r\n    }\r\n\r\n    contentDiv?.addEventListener(\"mousedown\", mousedown);\r\n    return () => {\r\n      console.log(\"dddd\");\r\n      svg.selectAll(\"*\").remove();\r\n    };\r\n  }, []);\r\n\r\n  // 拖拽线\r\n  return (\r\n    <div id=\"body\" className={styles.body}>\r\n      <div id=\"content\" className={styles.content}>\r\n        <svg id=\"canvas\" className={styles.svg}>\r\n          {lineData.map(({ source, target }, index) => {\r\n            return (\r\n              <path\r\n                key={index}\r\n                stroke=\"red\"\r\n                strokeWidth={1}\r\n                d={diagonal(source, target)}\r\n              ></path>\r\n            );\r\n          })}\r\n        </svg>\r\n        <div\r\n          id=\"circle1\"\r\n          style={{ marginTop: \"100px\", marginLeft: \"100px\" }}\r\n        ></div>\r\n        <div id=\"circle2\" style={{ marginTop: \"200px\" }}></div>\r\n        <div\r\n          id=\"circle3\"\r\n          style={{ marginTop: \"100px\", marginLeft: \"200px\" }}\r\n        ></div>\r\n        <div\r\n          id=\"circle4\"\r\n          style={{ marginTop: \"100px\", marginLeft: \"280px\" }}\r\n        ></div>\r\n        <div\r\n          id=\"circle5\"\r\n          style={{ marginTop: \"100px\", marginLeft: \"120px\" }}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","D:\\workspace\\my-next-app\\pages\\svg\\canvas.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\svg\\clip.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\svg\\image.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\svg\\polyline.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\svg\\transform.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\_app.tsx",[],[],"D:\\workspace\\my-next-app\\pages\\_document.tsx",[],[],"D:\\workspace\\my-next-app\\components\\date.tsx",[],[],"D:\\workspace\\my-next-app\\components\\layout.tsx",[],[],"D:\\workspace\\my-next-app\\lib\\cytoscape.esm.js",[],[],"D:\\workspace\\my-next-app\\lib\\data.ts",[],[],"D:\\workspace\\my-next-app\\lib\\diff.ts",[],[],"D:\\workspace\\my-next-app\\lib\\graph\\utils.ts",[],[],"D:\\workspace\\my-next-app\\lib\\posts.ts",[],[],"D:\\workspace\\my-next-app\\lib\\style.ts",[],[],"D:\\workspace\\my-next-app\\lib\\transform.ts",[],[],"D:\\workspace\\my-next-app\\lib\\utils.ts",[],[],{"ruleId":"139","severity":1,"message":"140","line":83,"column":6,"nodeType":"141","endLine":83,"endColumn":8,"suggestions":"142"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'lineData'. Either include it or remove the dependency array. You can also do a functional update 'setLineData(l => ...)' if you only need 'lineData' in the 'setLineData' call.","ArrayExpression",["143"],{"desc":"144","fix":"145"},"Update the dependencies array to be: [lineData]",{"range":"146","text":"147"},[2450,2452],"[lineData]"]